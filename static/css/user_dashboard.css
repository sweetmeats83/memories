/* User Dashboard extracted styles */

/* Prompt band accessibility */
#promptBand { outline: none; }
#promptBand:focus-visible { box-shadow: 0 0 0 3px rgba(255,255,255,.6), 0 0 0 6px rgba(194,24,157,.35); border-radius: 1rem; }

/* Mic pill pulse */
.prompt-cta{ position: absolute; top: .75rem; right: .75rem; z-index: 30; border-radius: 999px; padding: 6px 10px; font-size: .85rem; font-weight: 700; color: #111; background: rgba(255,255,255,.10); border: 1px solid rgba(0,0,0,.15); box-shadow: 0 8px 20px rgba(0,0,0,.15), inset 0 1px 0 rgba(255,255,255,.6); }
.prompt-cta::after{ content:""; position:absolute; inset:-6px; border-radius: inherit; box-shadow: 0 0 0 0 rgba(255,255,255,.35); animation: var(--pulse-anim, none); will-change: transform, box-shadow, opacity; }
@keyframes promptPulse{ 0%{ box-shadow:0 0 0 0 rgba(255,255,255,.35); opacity:1; transform:scale(1)} 70%{ box-shadow:0 0 0 12px rgba(255,255,255,0); opacity:.25; transform:scale(1.03)} 100%{ box-shadow:0 0 0 0 rgba(255,255,255,0); opacity:0; transform:scale(1)} }
.prompt-cta.pulse::after{ animation: promptPulse 1.8s ease-out infinite !important; }
.prompt-hint{ margin:.5rem 0 0; font-size:.95rem; opacity:.85; }
#promptBand.seen .prompt-hint{ display:none; }
#promptBand.seen .prompt-cta.pulse::after{ animation:none !important; }
@media (prefers-reduced-motion: reduce){ .prompt-cta::after{ animation:none !important; } }

/* Glassmorphic cards and CTA */
.ud-glass-card, .ud-glass-btn{ position:relative; border-radius:16px; background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06)); border:1px solid rgba(255,156,234,.35); box-shadow:0 12px 30px rgba(194,24,157,.14), inset 0 1px 0 rgba(255,255,255,.25); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); color:#fff; }
.ud-glass-card::before,.ud-glass-btn::before{ content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; background:linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,0) 40%); mix-blend-mode:screen; opacity:.45; }
.ud-glass-btn{ overflow:hidden; transition: transform .18s ease, box-shadow .18s ease; }
.ud-glass-btn:hover{ transform: translateY(-1px); box-shadow: 0 16px 40px rgba(194,24,157,.22), inset 0 1px 0 rgba(255,255,255,.28); }
.ud-pill{ border:1px solid rgba(255,255,255,.35); border-radius:999px; padding:6px 12px; font-weight:600; background:rgba(255,255,255,.1); box-shadow: inset 0 1px 0 rgba(255,255,255,.2); }
.ud-hover{ position:absolute; inset:-30%; background: radial-gradient(120px 120px at var(--mx,50%) var(--my,50%), rgba(255,156,234,.25), transparent 55%); opacity:0; transition:opacity .2s ease;}
.ud-glass-btn:hover .ud-hover{ opacity:1; }

/* Chapter progress bar */
.ud-bar{ position:relative; height:18px; border-radius:999px; overflow:hidden; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.20); box-shadow: inset 0 1px 0 rgba(255,255,255,.15); display:flex; }
.ud-seg-glass{ --seg-color:#fff; --seg-alpha:38%; background: color-mix(in srgb, var(--seg-color) var(--seg-alpha), transparent); border-right:1px solid rgba(255,255,255,.12); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); box-shadow: inset 0 1px 0 rgba(255,255,255,.25), 0 8px 20px rgba(0,0,0,.12); position:relative; }
.ud-seg-glass::after{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(255,255,255,.42), rgba(255,255,255,0) 60%); mix-blend-mode:screen; opacity:.55; pointer-events:none; }
.ud-seg-empty{ background:rgba(255,255,255,.10); border-left:1px solid rgba(255,255,255,.15); pointer-events:none; }
.ud-legend-item{ display:flex; align-items:center; gap:.6rem; min-width:0; }
.ud-swatch{ width:12px; height:12px; border-radius:3px; box-shadow: inset 0 1px 0 rgba(255,255,255,.25); border:1px solid rgba(255,255,255,.35); }
.ud-label{ font-size:.9rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; opacity:.95; }
.ud-pct{ margin-left:auto; opacity:.8; font-variant-numeric: tabular-nums; }
@media (max-width: 640px){ .ud-bar{ height:14px; } }

/* Tooltip for segments */
.ud-tip{ position:fixed; transform: translate(-50%, -100%); pointer-events:none; background:rgba(255,255,255,.95); color:#111; border-radius:10px; padding:6px 10px; font-size:12px; border:1px solid rgba(0,0,0,.20); box-shadow:0 10px 20px rgba(0,0,0,.15); opacity:0; transition: opacity .12s ease; z-index:9999; }
.ud-seg{ cursor:pointer; }

/* Dark tooltip */
html.dark .ud-tip{ background: rgba(10,12,20,.92); color: var(--fg); border:1px solid rgba(255,59,193,.35); box-shadow: 0 8px 24px rgba(0,0,0,.45), 0 0 18px rgba(255,59,193,.18); }

/* Paper card effects for responses */
.glass-base{ background:rgba(255,255,255,0.38); border:1px solid rgba(255,255,255,0.45); box-shadow:0 12px 32px rgba(0,0,0,.10), inset 0 1px 0 rgba(255,255,255,.30); backdrop-filter: blur(10px) saturate(1.12); -webkit-backdrop-filter: blur(10px) saturate(1.12); opacity:25; }
.glass-base::after{ content:""; position:absolute; inset:0; pointer-events:none; background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0) 60%); }
.tint-overlay{ background: var(--tint-color, #e5e7eb); opacity: var(--tint-alpha, .06); mix-blend-mode: normal; }
.hover-paper{ filter: drop-shadow(0 16px 36px rgba(0,0,0,.18)); }
.paper-surface{ position:absolute; inset:0; border-radius:1.25rem; background: linear-gradient(180deg,#FCFAF3 0%, #F7F2E7 100%); box-shadow: 0 18px 50px rgba(0,0,0,.10); }
.paper-surface::before{ content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; box-shadow: inset 0 0 0 1px rgba(0,0,0,.05), inset 0 0 60px rgba(0,0,0,.08); }
.paper-sheen{ content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none; opacity:.28; background-image: radial-gradient(rgba(0,0,0,.06) .6px, rgba(0,0,0,0) .6px), radial-gradient(rgba(0,0,0,.04) .8px, rgba(0,0,0,0) .8px); background-size: 2px 2px, 4px 4px; background-position: 0 0, 1px 1px; mix-blend-mode:multiply; }
.paper-content{ position:relative; z-index:1; }
.paper-scroll{ display:flex; align-items:flex-end; height:100%; }
.paper-scroll-inner{ transform: translateY(25%); animation: paperMarquee 12s linear infinite; }
@keyframes paperMarquee{ 0%{ transform: translateY(25%) } 100%{ transform: translateY(-35%) } }
@media (prefers-reduced-motion: reduce){ .paper-scroll-inner{ animation:none; transform:translateY(0) } }
